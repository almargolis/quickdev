questions:
  qdflask:
    enabled:
      help: "Enable Flask authentication? (qdflask)"
      type: boolean
    roles:
      help: "Comma-separated user roles (must include admin)"
      type: string
    login_view:
      help: "Flask endpoint name for login redirect"
      type: string

flask:
  init_function:
    module: "qdflask"
    function: "init_auth"
    priority: 10
    params:
      roles:
        source: answer
        key: "qdflask.roles"
        type: list
        default: "['admin', 'editor']"
      login_view:
        source: answer
        key: "qdflask.login_view"
        type: string
        default: "'auth.login'"
  post_init:
    - module: "qdflask.mail_utils"
      function: "init_mail"
      priority: 90
